<!doctype html><html lang=en-us><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><link rel=icon type=image/svg+xml href=/img/favicon.svg><link rel="alternate icon" type=image/png href=/img/favicon.png><title>The Art of Generating IDs - Pencroff</title><meta name=generator content="Hugo 0.127.0"><link rel=stylesheet href="https://pencroff.com/main.min.43956f6fb1185df93e16d94b94e820dcf4e31ac93f425151ea16490852f4298b.css" integrity="sha256-Q5Vvb7EYXfk+FtlLlOgg3PTjGsk/QlFR6hZJCFL0KYs=">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-9BRS4QSX54"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-9BRS4QSX54")</script></head><body class="flex flex-col min-h-screen"><header class="text-stone-600 font-bold bg-orange-50 shadow"><div class="container mx-auto flex flex-wrap p-5 flex-col md:flex-row items-center"><a class="flex title-font font-medium items-center text-stone-700 mb-4 md:mb-0" href=https://pencroff.com/><svg xmlns="http://www.w3.org/2000/svg" class="w-8 h-8 lg:w-10 lg:h-10 icon-atom-2" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" shape-rendering="geometricPrecision" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><circle cx="12" cy="12" r="3"/><line x1="12" y1="21" x2="12" y2="21.01"/><line x1="3" y1="9" x2="3" y2="9.01"/><line x1="21" y1="9" x2="21" y2="9.01"/><path d="M8 20.1A9 9 0 013 13"/><path d="M16 20.1a9 9 0 005-7.1"/><path d="M6.2 5a9 9 0 0111.4.0"/></svg>
<span class="ml-3 text-2xl lg:text-3xl">Pencroff</span></a><nav class="md:ml-auto flex flex-wrap items-center text-base lg:text-xl justify-center text-yellow-700"><a href=https://pencroff.com/post/ class="mr-5 hover:text-yellow-900">Posts</a>
<a href=https://pencroff.com/project/ class="mr-5 hover:text-yellow-900">Projects</a>
<a href=https://pencroff.com/talk/ class="mr-5 hover:text-yellow-900">My talks</a></nav></div></header><main class="flex-1 mx-4 md:mx-8 lg:mx-12 xl:mx-24 mt-4 lg:mt-8 xl:mt-16"><div class="flex flex-row flex-wrap md:flex-nowrap"><div class="basis-full md:basis-main flex flex-col justify-start items-center"><section><article class="mb-4 lg:mb-8 xl:mb-16 prose prose-yellow lg:prose-lg prose-headings:text-yellow-700 prose-p:font-serif"><h1 class="prose text-2xl lg:text-3xl mb-3 lg:mb-5">The Art of Generating IDs</h1><div class="flex flex-row py-1 justify-between w-full"><div class="text-stone-500 text-sm md:text-base flex flex-row items-center justify-start"><svg xmlns="http://www.w3.org/2000/svg" class="inline-block w-5 h-5 mr-2 icon-calendar" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" shape-rendering="geometricPrecision" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><rect x="4" y="5" width="16" height="16" rx="2"/><line x1="16" y1="3" x2="16" y2="7"/><line x1="8" y1="3" x2="8" y2="7"/><line x1="4" y1="11" x2="20" y2="11"/><line x1="11" y1="15" x2="12" y2="15"/><line x1="12" y1="15" x2="12" y2="18"/></svg>
<time class=pt-0.5 datetime=2023-11-17T00:00:00Z>Nov 17, 2023</time></div><div class="text-stone-500 text-sm md:text-base flex flex-row items-center justify-start"><svg xmlns="http://www.w3.org/2000/svg" class="inline-block w-5 h-5 icon-triangle-square-circle" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M12 3l-4 7h8z"/><circle cx="17" cy="17" r="3"/><rect x="4" y="14" width="6" height="6" rx="1"/></svg>
<a class="hover:text-sky-600 ml-1.5" href=/categories/ccid/ rel=category>Ccid</a></div></div><div class="flex flex-row py-1 justify-start w-full"><div class="text-stone-500 text-sm md:text-base flex flex-row items-center justify-start"><svg xmlns="http://www.w3.org/2000/svg" class="inline-block w-5 h-5 icon-tag" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" shape-rendering="geometricPrecision" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><circle cx="8.5" cy="8.5" r="1" fill="currentcolor"/><path d="M4 7v3.859c0 .537.213 1.052.593 1.432l8.116 8.116a2.025 2.025.0 002.864.0l4.834-4.834a2.025 2.025.0 000-2.864L12.29 4.593A2.025 2.025.0 0010.859 4H7A3 3 0 004 7z"/></svg>
<a class="hover:text-sky-600 ml-1.5" href=/tags/id/ rel=tag>ID</a>, <a class="hover:text-sky-600 ml-1.5" href=/tags/rng/ rel=tag>RNG</a>, <a class="hover:text-sky-600 ml-1.5" href=/tags/ccid/ rel=tag>CCID</a></div></div><div class="flex flex-row justify-center w-full"><figure class="flex justify-center items-center basis-1/2 aspect-square"><img src=/img/blog/the-art-of-generating-ids/id_gen_problems.jpeg alt></figure></div><p>Unique identifiers (IDs) are critical elements in many applications and systems.
They provide a way to distinguish between different entities and ensure data accuracy and consistency.
However, generating unique IDs can be challenging due to several factors such as data complexity, scalability,
and security concerns. In this article, we will explore the specific challenges that arise during the process
of generating unique IDs and how they can be addressed.</p><h2 id=integer-ids-a-simple-and-quick-solution>Integer IDs: A Simple and Quick Solution</h2><p>Historically, applications have employed integer-based ID generation on the database level for various tasks.
The ease of their creation and the speed with which they can be inserted or used for joins make them an attractive
choice for many solutions.</p><p>But there are some downsides to this approach. The Achilles&rsquo; heel of serial IDs lies in their predictability.
As they follow a sequential pattern, they become susceptible to exploitation, posing a security risk for
applications that require a level of unpredictability in ID generation.</p><p>Another drawback surfaces in the form of a centralized ID generation process. The reliance on a single generator,
whether it be the server or database itself, becomes a bottleneck in scenarios where distributed
generation is a necessity.</p><h2 id=random-ids-a-more-secure-option>Random IDs: A More Secure Option</h2><p>Random IDs are generated using a random number generator and are difficult to guess or reverse-engineer.
This makes them much more secure than integer IDs, making it harder for hackers to compromise your system.
Random IDs can also be generated on both the server and client side, allowing for even greater
flexibility and scalability.</p><p>Despite their security benefits, random IDs have some downsides as well.
One of them is the requirement of a large set of random bits due to the Birthday Problem.
The Birthday Problem illustrates that in a group of 23 people, there&rsquo;s more than a 50% chance
that at least two individuals will share the same birthday. When dealing with identifiers,
if your pool of random numbers is too small or not adequately distributed, collisions can occur,
which can lead to issues when working with these IDs.</p><p>Another disadvantage associated with using randomly generated unique identifiers is its impact on
database insert performance (due to lack of ID&rsquo;s locality). Each insert operation requires the primary
key index to be rebuilt significantly, which negatively impacts the speed of insertions.</p><h2 id=size-consistency-a-common-challenge-for-id-generator>Size Consistency: A Common Challenge for ID Generator</h2><p>Most ID Generators have a disadvantage in that all IDs are treated as identical and have the same size
regardless of the entity. For example, UUIDs use 16 bytes in binary format while KSUIDs require 20 bytes.
When using foreign keys related to these IDs, it becomes necessary to repeat them, leading to unnecessary data
bloating and poor database performance. This issue is particularly problematic for larger databases.
Consider cases of one-to-many or many-to-many relationships. If some entity types (goods and categories,
blog posts and tags) are created less often than others. In such cases, the same ID is repeated multiple times
which impacts storage and join&rsquo;s efficiency. In other words, less frequent IDs can be smaller.</p><h2 id=ids-diversity-different-sizes-with-similar-characteristics>IDs Diversity: Different Sizes with Similar Characteristics</h2><p>In order to address the challenges described above, a solution involves implementing an ID generator
family that incorporates varying sizes for different entity types.
This can significantly improve efficiency and storage.</p><p>For the family of ID generators, they must have the following properties:</p><ol><li>Lexicographically sortable: This ensures that the IDs can be sorted efficiently and quickly based on their values.</li><li>Not guessable: To prevent data theft or manipulation.</li><li>Size variety: Different sizes are required to cater to varying entity types in the database system.</li><li>Random Monotonic: Any ID generated in a single time tick growing in a random part.</li><li>Quick for generation: The ID generator should be fast enough to keep up with the demands of real-time applications.</li><li>A few extra properties:</li></ol><ul><li>Allow resolving the timestamp of the ID creation. ( Considering the possibility that the ID producer may have an incorrect clock)</li><li>Optional constant fingerprint: This is a set of constant bits generated per process, server, client, agent, shard, etc., allowing for further customization of the IDs.</li></ul><ol start=7><li>Compatible with popular existing ID formats: This may help with a smooth transition.</li></ol><p>In conclusion, integer identifiers in software systems have proven to be simple, but with limitations such as
predictability issues and centralized limitations. Randomly generated unique identifiers provide enhanced
security but may face performance and storage concerns.</p><p>An innovative solution involves implementing an ID generator family that tailors different sizes
for various entity types. By leveraging these technologies, we can enhance both the efficiency and storage
capabilities of our software systems, for large-scale distributed solutions and mobile applications at the
same time. As well as maintain optimal levels of security and performance.</p><p>Check <a href=https://github.com/Pencroff/ccid/>tech details on GitHub</a></p></article></section></div><div class="basis-full md:basis-side mt-4 md:mt-0 md:ml-8 flex flex-col justify-start items-center flex-1"><div class="flex flex-col flex-1"><div class="container mb-4 px-4 py-2 bg-orange-50 rounded shadow"><h4 class="text-yellow-700 border-yellow-700 border-b-2 text-xl uppercase font-bold py-1 pl-1 flex flex-row justify-start items-center"><svg xmlns="http://www.w3.org/2000/svg" class="inline-block w-6 h-6 mr-1 icon-triangle-square-circle" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M12 3l-4 7h8z"/><circle cx="17" cy="17" r="3"/><rect x="4" y="14" width="6" height="6" rx="1"/></svg>
Categories</h4><ul class="text-stone-700 text-base divide-y divide-dashed divide-yellow-700/50"><li class="flex flex-row justify-between items-center hover:text-sky-600 py-2 px-1"><a href=/categories/ccid/>Ccid</a>&nbsp;
<span class="text-xs rounded font-mono p-1 bg-yellow-700 text-stone-50">3</span></li><li class="flex flex-row justify-between items-center hover:text-sky-600 py-2 px-1"><a href=/categories/cloud/>Cloud</a>&nbsp;
<span class="text-xs rounded font-mono p-1 bg-yellow-700 text-stone-50">1</span></li><li class="flex flex-row justify-between items-center hover:text-sky-600 py-2 px-1"><a href=/categories/fluky/>Fluky</a>&nbsp;
<span class="text-xs rounded font-mono p-1 bg-yellow-700 text-stone-50">2</span></li><li class="flex flex-row justify-between items-center hover:text-sky-600 py-2 px-1"><a href=/categories/proj-2048/>Proj 2048</a>&nbsp;
<span class="text-xs rounded font-mono p-1 bg-yellow-700 text-stone-50">2</span></li></ul></div><div class="container mb-4 px-4 py-2 bg-orange-50 rounded shadow"><h4 class="text-yellow-700 border-yellow-700 border-b-2 text-xl uppercase font-bold py-1 pl-1 flex flex-row justify-start items-center"><svg xmlns="http://www.w3.org/2000/svg" class="inline-block w-6 h-6 mr-1 icon-calendar" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" shape-rendering="geometricPrecision" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><rect x="4" y="5" width="16" height="16" rx="2"/><line x1="16" y1="3" x2="16" y2="7"/><line x1="8" y1="3" x2="8" y2="7"/><line x1="4" y1="11" x2="20" y2="11"/><line x1="11" y1="15" x2="12" y2="15"/><line x1="12" y1="15" x2="12" y2="18"/></svg>
Recent posts</h4><ul class="text-stone-700 text-base divide-y divide-dashed divide-yellow-700/50"><li class="hover:text-sky-600 py-2"><a class="flex flex-col items-start" href=/post/ccid-go/><span>Unveiling the Power of CCID in Go: A Comprehensive Guide</span>
<span class=self-end>Jan 24</span></a></li><li class="hover:text-sky-600 py-2"><a class="flex flex-col items-start" href=/post/pigeon-data-box/><span>Pigeon-Posting in the Digital Age</span>
<span class=self-end>Jan 24</span></a></li><li class="hover:text-sky-600 py-2"><a class="flex flex-col items-start" href=/post/the-art-of-generating-ids/><span>The Art of Generating IDs</span>
<span class=self-end>Nov 23</span></a></li><li class="hover:text-sky-600 py-2"><a class="flex flex-col items-start" href=/post/fluky-lib/><span>Fluky - random number generator library</span>
<span class=self-end>Apr 22</span></a></li><li class="hover:text-sky-600 py-2"><a class="flex flex-col items-start" href=/post/proj-2048/><span>Proj 2048</span>
<span class=self-end>Feb 22</span></a></li></ul></div><div class="container mb-4 px-4 pt-2 pb-4 bg-orange-50 rounded shadow"><h4 class="text-yellow-700 border-yellow-700 border-b-2 text-xl uppercase font-bold py-1 pl-1 flex flex-row justify-start items-center"><svg xmlns="http://www.w3.org/2000/svg" class="inline-block w-6 h-6 mr-1 icon-tag" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" shape-rendering="geometricPrecision" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><circle cx="8.5" cy="8.5" r="1" fill="currentcolor"/><path d="M4 7v3.859c0 .537.213 1.052.593 1.432l8.116 8.116a2.025 2.025.0 002.864.0l4.834-4.834a2.025 2.025.0 000-2.864L12.29 4.593A2.025 2.025.0 0010.859 4H7A3 3 0 004 7z"/></svg>
Tags</h4><div class="text-stone-700 text-base flex flex-row flex-wrap pt-1"><a class="py-0.5 px-2 mr-1 mt-1 hover:text-sky-100 hover:bg-yellow-700 border-yellow-700 border rounded-lg" href=/tags/2048/ title=2048>2048</a>
<a class="py-0.5 px-2 mr-1 mt-1 hover:text-sky-100 hover:bg-yellow-700 border-yellow-700 border rounded-lg" href=/tags/aws/ title=AWS>AWS</a>
<a class="py-0.5 px-2 mr-1 mt-1 hover:text-sky-100 hover:bg-yellow-700 border-yellow-700 border rounded-lg" href=/tags/azure/ title=Azure>Azure</a>
<a class="py-0.5 px-2 mr-1 mt-1 hover:text-sky-100 hover:bg-yellow-700 border-yellow-700 border rounded-lg" href=/tags/ccid/ title=CCID>CCID</a>
<a class="py-0.5 px-2 mr-1 mt-1 hover:text-sky-100 hover:bg-yellow-700 border-yellow-700 border rounded-lg" href=/tags/data-transfer/ title="Data Transfer">Data Transfer</a>
<a class="py-0.5 px-2 mr-1 mt-1 hover:text-sky-100 hover:bg-yellow-700 border-yellow-700 border rounded-lg" href=/tags/ebiten/ title=Ebiten>Ebiten</a>
<a class="py-0.5 px-2 mr-1 mt-1 hover:text-sky-100 hover:bg-yellow-700 border-yellow-700 border rounded-lg" href=/tags/ecs/ title=ECS>ECS</a>
<a class="py-0.5 px-2 mr-1 mt-1 hover:text-sky-100 hover:bg-yellow-700 border-yellow-700 border rounded-lg" href=/tags/gaming-agent/ title="Gaming Agent">Gaming Agent</a>
<a class="py-0.5 px-2 mr-1 mt-1 hover:text-sky-100 hover:bg-yellow-700 border-yellow-700 border rounded-lg" href=/tags/golang/ title=Golang>Golang</a>
<a class="py-0.5 px-2 mr-1 mt-1 hover:text-sky-100 hover:bg-yellow-700 border-yellow-700 border rounded-lg" href=/tags/id/ title=ID>ID</a>
<a class="py-0.5 px-2 mr-1 mt-1 hover:text-sky-100 hover:bg-yellow-700 border-yellow-700 border rounded-lg" href=/tags/rng/ title=RNG>RNG</a></div></div></div></div></div></main><footer class="text-stone-700 bg-orange-50 shadow-inner"><div class="container px-5 py-8 mx-auto flex items-center sm:flex-row flex-col"><a class="flex title-font font-medium items-center md:justify-start justify-center text-stone-500 hover:text-sky-600" href=/><span class="ml-3 text-xl">Sergii Danilov</span></a><p class="text-sm text-stone-600 sm:ml-4 sm:pl-4 sm:border-l-2 sm:border-stone-200 sm:py-2 sm:mt-0 mt-4">&copy; 2020 — 2024</p><p class="flex-1 text-sm text-stone-500 text-center sm:ml-4 sm:pl-4 sm:py-2 sm:mt-0 mt-4">made with <a href=https://gohugo.io class="underline hover:text-sky-600">Hugo</a>,&nbsp;<a href=https://tailwindcss.com class="underline hover:text-sky-600">TailwindCSS</a><br>and <a href=https://tabler-icons.io/ class="underline hover:text-sky-600">Tabler Icons</a></p><span class="inline-flex sm:mt-0 mt-2 justify-center"><a class="text-stone-500 hover:text-sky-600" href=//www.linkedin.com/in/sergiidanilov/ target=_blank><svg xmlns="http://www.w3.org/2000/svg" class="w-8 h-8 icon-brand-linkedin" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" shape-rendering="geometricPrecision" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><rect x="4" y="4" width="16" height="16" rx="2"/><line x1="8" y1="11" x2="8" y2="16"/><line x1="8" y1="8" x2="8" y2="8.01"/><line x1="12" y1="16" x2="12" y2="11"/><path d="M16 16v-3a2 2 0 00-4 0"/></svg>
</a><a class="text-stone-500 hover:text-sky-600 ml-3" href=//github.com/Pencroff target=_blank><svg xmlns="http://www.w3.org/2000/svg" class="w-8 h-8 iconbrand-github" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M9 19c-4.3 1.4-4.3-2.5-6-3m12 5v-3.5c0-1 .1-1.4-.5-2 2.8-.3 5.5-1.4 5.5-6a4.6 4.6.0 00-1.3-3.2 4.2 4.2.0 00-.1-3.2s-1.1-.3-3.5 1.3a12.3 12.3.0 00-6.2.0C6.5 2.8 5.4 3.1 5.4 3.1a4.2 4.2.0 00-.1 3.2A4.6 4.6.0 004 9.5c0 4.6 2.7 5.7 5.5 6-.6.6-.6 1.2-.5 2V21"/></svg></a></span></div></footer><script src=https://pencroff.com/script.min.4cf266eb49c7246f7cf5c2a5d3b8000c2f1e81cc59cc0e4e80c38d0eceb3da67.js integrity="sha256-TPJm60nHJG989cKl07gADC8egcxZzA5OgMONDs6z2mc="></script></body></html>